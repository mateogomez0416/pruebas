!function(){const a="_wulastsession",c="https://tracking.woowup.com/web-tracking/track";function i(e,t,n,a){p.config=Object.assign({},_,p.config),p._publicKey=e||p._publicKey,n=u(n),p._metadata=n||p._metadata;var r,i,o=d();o&&(e={publicKey:e,wuid:o,event:t,sessionId:l(),userAgent:window.navigator.userAgent,provider:s(),origin:window.location.href,referrer:document.referrer,utms:{source:f("utm_source"),medium:f("utm_medium"),campaign:f("utm_campaign"),term:f("utm_term")},metadata:n||{}},o=c,t=e,r=a,(i=new XMLHttpRequest).open("POST",o),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?r&&"function"==typeof r&&r():400<=i.status&&console.log("Request failed.  Returned status of "+i.status+". Text: "+i.responseText))},i.send(JSON.stringify(t)))}function u(e){return e.offer_price&&isNaN(e.offer_price)&&(e.offer_price=null),e}function n(e){return"_"+e}function s(){return e()?"vtex":"custom"}function d(){var e=window.WU.config.identifier,t=f(e);return t?(window.localStorage.setItem(n(e),t),t):window.localStorage.getItem(n(e))||null}function l(){var e=window.localStorage.getItem(a);let t=e;var n=new Date;return(!e||n.getTime()-new Date(e).getTime()>1e3*window.WU.config.sessionDuration)&&(window.localStorage.setItem(a,n.toISOString()),t=n.toISOString()),(e=new Date(t)).getUTCFullYear()+(e.getUTCMonth()+1).toString().padStart(2,"0")+e.getUTCDate().toString().padStart(2,"0")+e.getUTCHours().toString().padStart(2,"0")}function f(e,t){if(!e)return null;t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function e(){return"Vtex"in window||"vtex"in window}function o(e,t){var n=p._trackPriceProductVTEXField,a=p._trackListPriceProductVTEXField,r=a in t&&t[a];return e.price=r?t[a]:t[n],e.offer_price=r?t[n]:null,e.price===e.offer_price&&(e.offer_price=null),e}function r(e){if(e)try{var t,n=getSkuData(e),a=p._trackProductVTEXField,r=p._trackParentProductVTEXField;n&&a in n&&n[a]&&(t=n[a],r in n&&n[r]&&(p._metadata.parentId=n[r].toString()),t)&&-1==p._vtexUniqueSkus.indexOf(t)&&(p._metadata.sku=t,p._metadata=o(p._metadata,n),p._vtexUniqueSkus.push(t),i(p._publicKey,"product-view",p._metadata,p._callback))}catch(e){console.error(e)}}function g(e){try{(t=e.newSkuId)&&skuJson&&"skus"in skuJson&&skuJson.skus.length&&skuJson.skus.find(function(e){return 1==e.available&&e.sku==t})?r(e.newSkuId):console.info("[WU] The product "+e.newSkuId+" is not available")}catch(e){console.error(e)}var t}var k,p={};let _={sessionDuration:3600,identifier:"wuid"};p.config=Object.assign({},_),p.track=i,p.trackProductVTEX=function(e,t,n){p._publicKey=e||p._publicKey,p._metadata=t||p._metadata,p._callback=n||p._callback;var a=setInterval(function(){var e;"undefined"!=typeof getSkuData&&(r(skuJson&&"skus"in skuJson&&skuJson.skus.length&&(e=skuJson.skus.find(function(e){return 1==e.available}))?e.sku:null),clearInterval(a))},50)},p._trackVTEX=r,p.addPriceMetadataInfoVTEX=o,p.getProvider=s,p.validateOptionalFields=u,p._trackProductVTEXField="reference",p._trackParentProductVTEXField="idProduct",p._trackPriceProductVTEXField="price",p._trackListPriceProductVTEXField="listPrice",p._publicKey=null,p._metadata={},p._callback=void 0,window.WU=p,e()&&(p._vtexUniqueSkus=[],k=setInterval(function(){var e,t;void 0!==window.Vtex&&(e="skuSelectionChanged",t="WoowUpVTEXTrackingSKUChanged",t=new Vtex.JSEvents.Listener(t,g),skuEventDispatcher.addListener(e,t),clearInterval(k))},50)),d(),l()}();