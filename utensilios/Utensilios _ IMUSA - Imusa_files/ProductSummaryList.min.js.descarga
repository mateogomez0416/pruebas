(window.webpackJsonpvtex_product_comparison_0_18_0=window.webpackJsonpvtex_product_comparison_0_18_0||[]).push([["ProductSummaryList"],{0:function(t,e){t.exports=React},1:function(t,e){t.exports=R},10:function(t,e){t.exports=ReactApollo},18:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.list-context@0.x/useListContext"]},19:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.list-context@0.x/ListContextProvider"]},20:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.product-list-context@0.x/ProductListContext"]},21:function(t,e,r){"use strict";var c=r(22),n=r.n(c);e.a=function(){return n()(),null}},22:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.product-list-context@0.x/useProductImpression"]},54:function(t,e,r){"use strict";r.r(e),function(t){var e=r(2);r.p=Object(e.getPublicPath)("vtex.product-comparison@0.18.0");var c=Object(e.register)((function(){return r(62)}),t,"vtex.product-comparison@0.18.0","vtex.product-comparison@0.x","ProductSummaryList");c.renderHotReload,c.setupHMR}.call(this,r(11)(t))},62:function(t,e,r){"use strict";r.r(e);var c=r(0),n=r.n(c),o=r(1),a=r(8),u=r(18),s=r.n(u),i=r(19),p=r.n(i),d=r(20),O=r.n(d),l=r(5),f=new RegExp(/.+ids\/(\d+)/),b=new RegExp(/http:\/\//),_=function(t,e,r){return t.includes("/arquivos/ids/")?"".concat(function(t){var e=f.exec(t);return e&&e.length>0?e[0]:""}(t),"-").concat(e,"-").concat(r):t};var m={imageUrl:"",imageLabel:""},j={Value:""},v={commertialOffer:{Price:0,ListPrice:0}},x=function(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(t){"number"==typeof e&&(e=Math.min(e,3e3)),"number"==typeof r&&(r=Math.min(r,4e3));var c=_(t,e,r),n=c.includes("?")?"&":"?";return"".concat(c).concat(n,"width=").concat(e,"&height=").concat(r,"&aspect=true")}}(function(t){return t.replace(b,"https://")}(t),e)},P=r(21),g=r(6),E=r(7),h=function(t){var e=t.children,r=t.products,u=t.comparisonProducts,i=s()().list,d=Object(a.useTreePath)().treePath,O=Object(c.useMemo)((function(){var t=u&&r&&u.map((function(t){return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(!t)return{};var c=Object.assign({},t),n=c.items||[],a=Object(o.find)(Object(o.propEq)("itemId",e))(n);if(a){var u=Object(o.pathOr)([],["sellers"],a),s=Object(l.a)(u,1),i=s[0],p=void 0===i?v:i,d=Object(o.pathOr)([],["referenceId"],a),O=Object(l.a)(d,1),f=O[0],b=void 0===f?j:f,_=Object(o.pathOr)([],["images"],a),P=_.map((function(t){return Object.assign(Object.assign({},t),{imageUrl:x(t.imageUrl,r)})})),g=Object(l.a)(P,1),E=g[0],h=void 0===E?m:E;c.sku=Object.assign(Object.assign({},a),{seller:p,referenceId:b,image:h,images:P})}return c}(Object(o.find)(Object(o.propEq)("productId",t.productId))(r),t.skuId)})).filter((function(t){return""!==Object(o.pathOr)("",["productId"],t)})).map((function(t){return n.a.createElement(a.ExtensionPoint,{id:"product-summary",key:"".concat(Object(o.pathOr)("",["productId"],t)),treePath:d,product:t})}));return i.concat(t)}),[u,i,r,d]);return n.a.createElement(p.a,{list:O},e)},R=function(t){var e=t.children,r=O.a.ProductListProvider,c=g.default.useProductComparisonState,a=E.default.useComparisonProductState,u=c(),s=a(),i=Object(o.pathOr)([],["products"],u),p=Object(o.pathOr)([],["products"],s);return n.a.createElement(r,{listName:"product-list"},n.a.createElement(h,{products:p,comparisonProducts:i},e),n.a.createElement(P.a,null))};e.default=R},7:function(t,e,r){"use strict";r.r(e);var c=r(5),n=r(3),o=r(0),a=r.n(o),u=r(1),s=function(t,e){switch(e.type){case"ADD_ALL_PRODUCTS":var r=Object(u.pathOr)([],["args","products"],e);return Object.assign(Object.assign({},t),{products:Object(n.a)(r)});case"ADD_PRODUCT":var c=e.args.product,o=[].concat(Object(n.a)(t.products),[c]);return Object.assign(Object.assign({},t),{products:o});case"REMOVE_ALL_PRODUCTS":return Object.assign(Object.assign({},t),{products:[]});case"REMOVE_PRODUCT":var a=e.args.product,s=Object(u.reject)(Object(u.allPass)([Object(u.propEq)("productId",a.productId),Object(u.propEq)("skuId",a.skuId)]))(t.products);return localStorage.setItem("PRODUCTS_TO_COMPARE",JSON.stringify(s)),Object.assign(Object.assign({},t),{products:s});default:throw new Error("Unhandled action type on product-list-context")}},i={products:[]},p=Object(o.createContext)(i),d=Object(o.createContext)((function(t){console.error("error in dispatch ",t)})),O={products:[]};e.default={ComparisonProductProvider:function(t){var e=t.products,r=t.children,n=Object(o.useReducer)(s,O),u=Object(c.a)(n,2),i=u[0],l=u[1];return Object(o.useEffect)((function(){e&&e.length>0&&l({type:"ADD_ALL_PRODUCTS",args:{products:e}})}),[e]),a.a.createElement(p.Provider,{value:i},a.a.createElement(d.Provider,{value:l},r))},useComparisonProductState:function(){return Object(o.useContext)(p)},useComparisonProductDispatch:function(){return Object(o.useContext)(d)}}},8:function(t,e){t.exports=__RENDER_8_RUNTIME__}},[[54,"common",0]]]);