(window.webpackJsonpgroupesebcol_contact_form_0_0_22=window.webpackJsonpgroupesebcol_contact_form_0_0_22||[]).push([[0],{1:function(e,n,a){"use strict";a.d(n,"b",(function(){return o})),a.d(n,"c",(function(){return c}));var t=a(6);function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){Object(t.a)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var c={insertInput:"insert",inicializarInputs:"inicializar",insertSelect:"select",insertRecaptcha:"recaptcha",insertSameName:"insertSameName"},o={TotalInputs:[],SelectValue:[],Recaptcha:[]},u=function(e,n){if(n[0])return Array.isArray(e)&&e.length&&e.map((function(e){n[0].key&&e.key===n[0].key&&(e.value=n[0].value)})),e},l=function(e,n){if(n[0]){if(Array.isArray(e)&&e.length)for(var a=0;a<=e.length;a++)e[a]&&e[a].key!=n[0].key&&n.push(e[a]);return n}},s=function(e,n){if(n[0])return Array.isArray(e)&&e.length&&e.map((function(e){n[0].key&&e.key===n[0].key&&(n[0].checked?e.value?e.value=e.value+","+n[0].value:e.value=n[0].value.trim():(e.value.includes(",")&&(e.value=e.value.replaceAll(n[0].value+",","").trim()),e.value=e.value.replaceAll(n[0].value,"").trim()))})),e};n.a=function(e,n){switch(n.type){case c.insertInput:return r(r({},e),{},{TotalInputs:u(e.TotalInputs,n.payload)});case c.inicializarInputs:return r(r({},e),{},{TotalInputs:l(e.TotalInputs,n.payload)});case c.insertRecaptcha:return r(r({},e),{},{Recaptcha:n.payload});case c.insertSameName:return r(r({},e),{},{Recaptcha:s(e.TotalInputs,n.payload)});default:return e}}},12:function(e,n,a){"use strict";a.r(n);var t=a(13),i=a.n(t),r=a(16),c=a(7),o=a(0),u=a.n(o),l=a(3),s=a(9),d=a(17),m=a.n(d),f=(a(28),a(4)),v=a.n(f),k=a(10),p=a.n(k),b=function(e,n){return new Promise((function(a){fetch("/api/dataentities/"+n+"/search?_fields="+e[0].key+"&_where="+e[0].key+"="+e[0].value,{method:"GET",mode:"cors",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(n){return t(n,e[0])})).catch((function(e){return console.error("error:"+e)}));var t=function(e,n){if(e.length>=1){var t=e.map((function(e){return e.label=n.label,e.key=n.key,e.key=n.key,n.uniqueErrorMessage&&(e.error=n.uniqueErrorMessage),e.value=n.value,e}));a(t)}else a(!1)}}))},h=a(11),y=a.n(h),g=["errorSubmitClass","sucessSubmitClass","errorSubmitClassRecaptcha","spinnerClass","FormularioSucessButtom","sucessContainer"];n.default=function(e){var n=e.children,a=e.dataEntity,t=e.successMessage,d=v()(g),f=Object(l.c)(),k=f.TotalInputs,h=f.Recaptcha,S=Object(o.useState)(""),N=Object(c.a)(S,2),O=N[0],w=N[1],j=Object(o.useState)([]),E=Object(c.a)(j,2),D=E[0],A=E[1],V=Object(o.useState)(!1),_=Object(c.a)(V,2),x=_[0],C=_[1],F=Object(o.useState)(t),T=Object(c.a)(F,2),I=T[0],P=T[1],$=Object(o.useState)(!1),R=Object(c.a)($,2),q=R[0],M=R[1],z=Object(s.useMutation)(m.a),B=Object(c.a)(z,1)[0],G=y()().push;console.log("dt",a),Object(o.useEffect)((function(){D&&A("")}),[x]);var L=function(){var e=Object(r.a)(i.a.mark((function e(n){var t,r,c,o,u,l,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!1),t=[],r=[],c=[],n.preventDefault(),w(""),o=!1,Array.isArray(h)&&h.length,k.map((function(e){e.required&&""===e.value&&t.push(e)})),!(t.length>=1)){e.next=14;break}return A(t),e.abrupt("return");case 14:if(C(!0),u=k.map((function(e){if(a.includes(",")&&(o=!0),e.uniqueKey&&c.push(e),!e.file)return{key:e.key,value:""===e.value?e.tag:e.value};r.push(e)})),!o){e.next=32;break}l=(l=window.location.href).split("/"),a=a.split(","),console.log("url",l),e.t0=l[3],e.next="krups"===e.t0?24:"tefal"===e.t0?26:"samurai"===e.t0?28:30;break;case 24:return a=a[3],e.abrupt("break",32);case 26:return a=a[2],e.abrupt("break",32);case 28:return a=a[1],e.abrupt("break",32);case 30:return a=a[0],e.abrupt("break",32);case 32:if(u=u.filter(Boolean),!(c.length>=1)){e.next=52;break}return e.next=36,b(c,a);case 36:if(!(s=e.sent)){e.next=52;break}if(!s[0].error){e.next=49;break}if(!s[0].error.includes("$")||!s[0].error.includes(s[0].key)){e.next=46;break}return d=s[0].error.replace("$"+s[0].key,s[0].value),w(d),C(!1),e.abrupt("return");case 46:return w(s[0].error),C(!1),e.abrupt("return");case 49:return w("El  ".concat(s[0].label," ya se encuentra registrado.")),C(!1),e.abrupt("return");case 52:J(a,u,r);case 53:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(e,n,a){var i,r=[];console.log("DebugDeseda",n),n=n.map((function(e){"condiciones"!=e.key&&r.push(e)})),B({variables:{acronym:e,document:{fields:r}}}).then((function(e){t&&t.includes("$")&&r.map((function(e){t.includes(e.key)&&(i=t.replace("$"+e.key,e.value))})),C(!1),M(!0),i&&P(i),a.length>=1&&Q(a,e)})).catch((function(e){C(!1),P("ha ocurrido un error, contacte con el administrador.")}))},Q=function(e,n){for(var t,i=0;i<e.length;i++){t=new FormData;for(var r=0;r<e[i].value.length;r++)t.append("documento",e[i].value[r]);fetch("https://loungecl.vtexcommercestable.com.br/api/dataentities/"+a+"/documents/"+n.data.createDocument.documentId+"/"+e[i].key+"/attachments",{method:"POST",mode:"no-cors",body:t,headers:{"Content-Type":"application/json; charset=utf8","Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))}},K=function(){return u.a.createElement(u.a.Fragment,null,"Los siguientes campos son de caracter obligatorios: ",D.map((function(e){return e.label+" "})))},H=Object(o.useCallback)((function(){G({event:"newsletterSubscription",eventName:"newsletterSubscription",message:t})}),[t,G]);return u.a.createElement("div",null,q?u.a.createElement("div",{className:d.sucessContainer},u.a.createElement("div",{className:d.sucessSubmitClass},t?I:"Se envio la informacion correctamente."),u.a.createElement("button",{onClick:function(){window.location.href="/"},className:d.FormularioSucessButtom},"Regresar al home")):u.a.createElement("form",{onSubmit:function(e){L(e),H()}},x?u.a.createElement("span",{className:d.spinnerClass},u.a.createElement(p.a,{color:"currentColor",size:100})):n,u.a.createElement("div",{className:d.errorSubmitClass},Array.isArray(D)&&D.length?u.a.createElement(K,null):""),u.a.createElement("div",{className:d.errorSubmitClass}," ",O||""," ")))}},17:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"saveForm"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"acronym"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"document"}},type:{kind:"NamedType",name:{kind:"Name",value:"DocumentInput"}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"context"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sender"},value:{kind:"StringValue",value:"groupesebcol.contact-form@0.0.22",block:!1}}]},{kind:"Directive",name:{kind:"Name",value:"runtimeMeta"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hash"},value:{kind:"StringValue",value:"cf91e58aed822b8018c39401901902b3b3dd27aa27cccd7eab59eb7a238135d3",block:!1}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createDocument"},arguments:[{kind:"Argument",name:{kind:"Name",value:"acronym"},value:{kind:"Variable",name:{kind:"Name",value:"acronym"}}},{kind:"Argument",name:{kind:"Name",value:"document"},value:{kind:"Variable",name:{kind:"Name",value:"document"}}},{kind:"Argument",name:{kind:"Name",value:"account"},value:{kind:"StringValue",value:"groupesebcol",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"documentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:325}};a.loc.source={body:'mutation saveForm($acronym: String!, $document: DocumentInput) @context(sender: "groupesebcol.contact-form@0.0.22") @runtimeMeta(hash: "cf91e58aed822b8018c39401901902b3b3dd27aa27cccd7eab59eb7a238135d3") {\n  createDocument(acronym: $acronym, document: $document, account: "groupesebcol") {\n    documentId\n    __typename\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&a.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,a)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,a)})),n.definitions&&n.definitions.forEach((function(n){e(n,a)}))}(e,n),t[e.name.value]=n}})),e.exports=a,e.exports.saveForm=function(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=t[n]||new Set,c=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var u=o;o=new Set,u.forEach((function(e){c.has(e)||(c.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return c.forEach((function(n){var t=i(e,n);t&&a.definitions.push(t)})),a}(a,"saveForm")},28:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fieldValidation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"acronym"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"where"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"context"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sender"},value:{kind:"StringValue",value:"groupesebcol.contact-form@0.0.22",block:!1}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"documents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"acronym"},value:{kind:"Variable",name:{kind:"Name",value:"acronym"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"Variable",name:{kind:"Name",value:"where"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"runtimeMeta"},arguments:[{kind:"Argument",name:{kind:"Name",value:"hash"},value:{kind:"StringValue",value:"a29abcc094d5830ab89c0a0c7022c899d8a7a5cb4bcffde0e62fb3467b663805",block:!1}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:325}};a.loc.source={body:'query fieldValidation($acronym: String, $where: String) @context(sender: "groupesebcol.contact-form@0.0.22") {\n  documents(acronym: $acronym, where: $where) @runtimeMeta(hash: "a29abcc094d5830ab89c0a0c7022c899d8a7a5cb4bcffde0e62fb3467b663805") {\n    fields {\n      key\n      value\n      __typename\n    }\n    __typename\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var a=0;a<e.definitions.length;a++){var t=e.definitions[a];if(t.name&&t.name.value==n)return t}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&a.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,a)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,a)})),n.definitions&&n.definitions.forEach((function(n){e(n,a)}))}(e,n),t[e.name.value]=n}})),e.exports=a,e.exports.fieldValidation=function(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=t[n]||new Set,c=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var u=o;o=new Set,u.forEach((function(e){c.has(e)||(c.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return c.forEach((function(n){var t=i(e,n);t&&a.definitions.push(t)})),a}(a,"fieldValidation")},3:function(e,n,a){"use strict";a.d(n,"c",(function(){return c})),a.d(n,"b",(function(){return o}));var t=a(0),i=a(1),r=Object(t.createContext)(),c=function(){return Object(t.useContext)(r)[0]},o=function(){return Object(t.useContext)(r)[1]};n.a=function(e){var n=e.children;return React.createElement(r.Provider,{value:Object(t.useReducer)(i.a,i.b)},n)}}}]);