let reportWindowSize=()=>window.innerWidth;$(document).ready(function(){setInterval(function(){let textRecDeUso=document.querySelector("#caracteristicas .value-field.Uso-en-cocina");if(textRecDeUso){textRecDeUso.parentElement.remove(),textRecDeUso=textRecDeUso.innerText.split("\n");let listRecDeUso=document.getElementById("recomendaciones-uso");textRecDeUso.forEach(item=>{let li=document.createElement("li");li.innerText=`· ${item}`,listRecDeUso.appendChild(li)})}},500)}),$(document).ready(function(){setTimeout(function(){$("body#category-page").css("overflow","initial")},1500);try{document.getElementById("home-slider")&&$("#home-slider").slick({autoplay:!0,autoplaySpeed:5e3,dots:!0,arrows:!0}),document.getElementById("slider-middle-bar")&&$("#slider-middle-bar").slick({dots:!1,arrows:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0})}catch(error){}$("body#product-page").length&&$(".notifyme").is(":visible")&&($(".notifyme-title").text("Notificarme"),$(".notifyme-form p").text("Para ser notificado de la disponibilidad de este Producto, simplemente complete los campos a continuación."),$(".notifyme-client-name").attr("placeholder","Escriba su nombre"),$(".notifyme-client-email").attr("placeholder","Escriba su email")),"/cart"===window.location.pathname&&setTimeout(function(){$("<div class='envio-cart'><i class='fas fa-truck'></i><p>Tu envío será calculado más adelante</p></div>").insertAfter(".styles__Wrapperbtns-duxsen-4")},1e3),"Ofertas"===$(document).attr("title")&&$("meta[name='description']").attr("content","Conoce las ofertas que Cocina Ilko tiene para ofrecerte. ¡Te esperamos!"),"/cocina-ilko/baterias-ollas-y-teteras/149"==window.location.pathname&&setTimeout(function(){$("main.home-banner").prepend('<a href="/cocina-ilko/baterias-ollas-y-teteras/149?O=OrderByBestDiscountDESC&PS=12&map=c,c,productClusterSearchableIds" class="box-banner">\n                <picture>\n                <source srcset="/arquivos/BANNERS-WEB-15.jpg" media="(max-width: 768px)" />\n                <source srcset="/arquivos/BANNERS-WEB-14.jpg" />\n                <img srcset="/arquivos/BANNERS-WEB-14.jpg" />\n                </picture>\n                </a>')},1500),"?fq=H:146"==window.location.search&&setTimeout(function(){$("main.home-banner").prepend('<a href="/cocina-ilko?fq=H:146" class="box-banner">\n                <picture>\n                <source srcset="/arquivos/BannerVirutex480x480.png" media="(max-width: 768px)" />\n                <source srcset="/arquivos/Virutex_1550x250.png" />\n                <img srcset="/arquivos/Virutex_1550x250.png" />\n                </picture>\n                </a>')},1500);const n=window.location.pathname.search("146");"?fq=H:146"!=window.location.search&&n>1&&($("main.home-banner").prepend('<a href="/cocina-ilko?fq=H:146""></a>'),$("main.home-banner a").prepend($("div#home-slider picture")))});let miniCartToggler=document.querySelector(".mini-cart"),miniCartOverlay=document.createElement("div");if(miniCartOverlay.setAttribute("id","mini-cart-overlay"),miniCartToggler){miniCartToggler.addEventListener("click",e=>{e.preventDefault(),miniCartToggler.classList.add("active"),miniCartToggler.appendChild(miniCartOverlay)});let miniCartBox=document.getElementById("mini-cart-admake"),minicartTitle=document.createElement("h6");minicartTitle.classList.add("minicart-title"),minicartTitle.innerHTML='<i class="fas fa-shopping-cart"></i> Mi Carrito';let miniCartClose=document.createElement("button");miniCartClose.classList.add("minicart-close"),miniCartClose.innerHTML='<i class="far fa-times"></i>',miniCartBox.firstElementChild.appendChild(minicartTitle),miniCartBox.firstElementChild.appendChild(miniCartClose),miniCartClose.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),miniCartToggler.classList.remove("active"),miniCartOverlay.remove()}),miniCartOverlay.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),miniCartToggler.classList.remove("active"),miniCartOverlay.remove()}),document.querySelector("#mini-cart-admake .btn-finalizar-compra").addEventListener("click",e=>{window.location=e.target.href})}document.addEventListener("DOMContentLoaded",function(){document.getElementById("cart-page")?formatcar():crearMinicar()});const crearMinicar=()=>{console.log("crear");let miniCartItemsContainer=document.querySelector(".mini-cart-itens"),badgeQtyCart=document.querySelector(".badge"),minicartTotal="",miniCartItem="";vtexjs.checkout.getOrderForm().then(function(orderForm){let price,dataItems=orderForm.items,quantityInCar=0,prices=0;if(dataItems.length&&dataItems.forEach((el,index)=>{price=el.sellingPrice&&el.sellingPrice<el.price?el.sellingPrice:el.price,prices+=price,quantityInCar+=el.quantity,miniCartItem+=`<div class="mini-cart-item item-${index}"><span class="imagem">\n                                                            <a class="sku-imagem" href="${el.detailUrl}">\n                                                                <img height="71" width="71" src="${el.imageUrl}" alt="${el.name}" />\n                                                            </a>\n                                                        </span>    \n                                                        <span class="detalhes">\n                                                            <p class="nome-produto">\n                                                                <a href="${el.detailUrl}">${el.name}</a>    \n                                                            </p>\n                                                            <span class="qtd-valor">\n                                                                <span class="qtd">${el.quantity}x</span>\n<span class="preco">${formatNumber.new(String(price).slice(0,-2),"$")}</span>    \n                                                            </span>    \n                                                        </span>\n                                                        <button class="delete-minicart-item">Eliminar <i class="fa fa-trash"></i></button>\n                                                        <span class="hidden" data-id="${el.id}"></span></div>`}),miniCartItemsContainer.innerHTML=miniCartItem,badgeQtyCart.innerText=quantityInCar,minicartTotal=document.getElementById("mini-cart-admake-total"),orderForm.totalizers.length){let totalNew=orderForm.value/100;minicartTotal.innerText=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(totalNew)}else minicartTotal.innerText=""}).done(function(orderForm){document.querySelector(".mini-cart-itens").querySelectorAll(".mini-cart-item").forEach((el,index)=>{el.querySelector(".delete-minicart-item").addEventListener("click",e=>{e.preventDefault(),vtexjs.checkout.getOrderForm().then(function(orderForm){let itemsToRemove=[{index:0,quantity:0}];for(let i=0;i<orderForm.items.length;i++){const orderItem=orderForm.items[i];if(orderItem.id==el.querySelector(".hidden").getAttribute("data-id")){itemsToRemove=[{index:i,quantity:orderItem.quantity}];break}}return vtexjs.checkout.removeItems(itemsToRemove)}).done(function(orderForm){crearMinicar()})})})})};let navCategories=document.querySelector("nav.categories");if(navCategories){let categoryLinks=navCategories.querySelectorAll(".category-link");if(reportWindowSize()>1024){categoryLinks.forEach(category=>{category.addEventListener("click",()=>{for(let i=0;i<categoryLinks.length;i++){const element=categoryLinks[i];if(element!=category&&element.classList.contains("active")){element.classList.remove("active");let dataTarget=element.getAttribute("data-target");dataTarget=dataTarget.split("#").pop();let submenu=document.getElementById(dataTarget);submenu.classList.remove("open"),submenu.classList.remove("alt")}}category.classList.add("active");let dataTarget=category.getAttribute("data-target");dataTarget=dataTarget.split("#").pop(),document.getElementById(dataTarget).classList.add("open")})}),document.querySelectorAll(".header .submenu, .header-new .submenu").forEach(submenu=>{submenu.addEventListener("mouseleave",()=>{submenu.classList.remove("open"),submenu.classList.remove("alt");let dataTarget=submenu.getAttribute("id");dataTarget=`#${dataTarget}`,document.querySelector(".category-link[data-target='"+dataTarget+"']").classList.remove("active")})})}else{let categoriesToggler=document.getElementById("categories-toggler"),navCategoriesMobile=document.getElementById("categories-mobile");categoriesToggler.addEventListener("click",e=>{e.preventDefault(),navCategoriesMobile.classList.add("open")}),document.querySelector(".categories-close").addEventListener("click",e=>{e.preventDefault(),navCategoriesMobile.classList.remove("open"),document.querySelectorAll(".submenu").forEach(submenu=>{submenu.classList.remove("open")})}),categoryLinks.forEach(category=>{navCategoriesMobile.lastElementChild.appendChild(category),category.addEventListener("click",e=>{e.preventDefault();let dataTarget=category.getAttribute("data-target");if(dataTarget){dataTarget=dataTarget.split("#").pop(),document.getElementById(dataTarget).classList.add("open")}else window.location=e.target})}),document.querySelectorAll(".submenu-back").forEach(btn=>{btn.addEventListener("click",e=>{e.preventDefault(),btn.parentElement.parentElement.classList.remove("open")})})}}let vitrinaBox=document.querySelectorAll(".vitrina-principal");vitrinaBox.length>0&&setTimeout(()=>{$(".vitrina-principal .showcase-owl .prateleira > ul").each(function(){$(this).data("owlCarousel").reinit({items:5,singleItem:!1,autoPlay:!0,stopOnHover:!0,navigation:!0,slideBy:2,pagination:!1,itemsDesktop:[1399,4],itemsDesktopSmall:[1099,3],itemsTablet:[768,2],itemsMobile:[479,2]})}),vitrinaBox.forEach(vitrina=>{vitrina.querySelectorAll(".btn-add-buy-button-asynchronous").forEach(btn=>{btn.innerHTML='<i class="fas fa-cart-plus"></i> Agregar'})}),vitrinaBox.forEach(vitrina=>{vitrina.querySelectorAll(".best-price").forEach(bestPrice=>{bestPrice.innerText=bestPrice.innerText.split(",").shift()});let productOldPrice=vitrina.querySelectorAll(".old-price");productOldPrice.length>0&&productOldPrice.forEach(price=>{price.innerText=price.innerText.split(",").shift()})});let saleLabel=document.querySelectorAll(".box-item .sale-label");saleLabel.length>0&&saleLabel.forEach(label=>{label.innerText=label.innerText.split(",").shift(),label.innerText=`-${label.innerText}%`});let vitBuyButton=document.querySelectorAll(".btn-add-buy-button-asynchronous");vtexjs.checkout.getOrderForm().done(function(orderForm){for(let i=0;i<orderForm.items.length;i++){const element=orderForm.items[i];vitBuyButton.forEach(button=>{try{element.id==button.getAttribute("href").split("?")[1].split("&")[0].split("=")[1]&&(button.classList.add("disabled"),button.innerText="Agregado!")}catch(error){console.log(error.message)}})}}),agregarProductoSecundario(vitBuyButton)},500);let productPage=document.getElementById("product-page");if(productPage){let productBestPrice=document.querySelector(".skuBestPrice");productBestPrice.innerText=productBestPrice.innerText.split(",").shift();let productOldPrice=document.querySelector(".skuListPrice");if(productOldPrice){productOldPrice.innerText=productOldPrice.innerText.split(",").shift();let discountLabel=document.createElement("span");discountLabel.classList.add("promo-label"),discountLabel.innerText="Ahora",productBestPrice.parentElement.appendChild(discountLabel),setTimeout(()=>{let imgBox=document.querySelector(".zoomPad"),discountFlag=document.createElement("span");discountFlag.classList.add("sale-label");let precioBase=parseInt(productOldPrice.innerText.split("$").pop().split(",").join("")),discount=100-parseInt(productBestPrice.innerText.split("$").pop().split(",").join(""))/precioBase*100;discountFlag.innerText=`-${parseInt(discount)}%`,imgBox.appendChild(discountFlag)},500)}let buyBtn=document.querySelectorAll(".buy-button-box .buy-button");vtexjs.checkout.getOrderForm().done(function(orderForm){for(let i=0;i<orderForm.items.length;i++){const element=orderForm.items[i];buyBtn.forEach(button=>{try{element.id==button.getAttribute("href").split("?")[1].split("&")[0].split("=")[1]&&(button.classList.add("disabled"),button.innerText="Agregado!")}catch(error){console.log(error.message)}})}}),setTimeout(()=>{let productImg=document.getElementById("image-main"),oldSrc=productImg.getAttribute("src");productImg.setAttribute("src",oldSrc.replace("-292-292","-500-500")),document.querySelector(".buy-button-box .buy-button").innerHTML='<i class="fas fa-cart-plus"></i> Agregar';let inputQty=document.querySelector("input.qtd"),qtyButtonsBox=document.querySelector(".buy-button-box .bts");qtyButtonsBox.insertBefore(inputQty,qtyButtonsBox.lastElementChild);let textEspec=document.querySelector("#caracteristicas .value-field.Recomendaciones-de-uso");if(textEspec){textEspec.parentElement.remove(),textEspec=textEspec.innerText.split("\n");let textEspecContainer=document.createElement("ul");textEspecContainer.classList.add("uso-cocina"),textEspec.forEach(item=>{let li=document.createElement("li");li.innerText=`· ${item}`,textEspecContainer.appendChild(li)}),document.getElementById("caracteristicas").appendChild(textEspecContainer)}let tipoCocina=document.querySelector("#caracteristicas .value-field.Tipo-cocina"),tipoAntiadherente=document.querySelector("#caracteristicas .value-field.Tipo-de-antiadherente"),tiposWrapper=document.createElement("div");(tipoCocina||tipoAntiadherente)&&(tiposWrapper.classList.add("tipos-wrapper"),document.getElementById("caracteristicas").appendChild(tiposWrapper));let crearTipoCocina=(rutaImg,clase)=>{let imgTipoCocina=document.createElement("img"),tipoCocinaContainer=document.createElement("div");tipoCocinaContainer.classList.add("tipo-cocina-container"),tipoCocina.parentElement.remove(),imgTipoCocina.setAttribute("src",rutaImg),imgTipoCocina.classList.add(clase);let title=document.createElement("h5");title.classList.add("title__tipo-cocina"),title.innerText="Tipo de cocina",tipoCocinaContainer.appendChild(title),tipoCocinaContainer.appendChild(imgTipoCocina),tiposWrapper.appendChild(tipoCocinaContainer)};if(tipoCocina&&"Gas-elec-vitro"==tipoCocina.innerText){crearTipoCocina("/arquivos/tipo-cocina-1.png","img-cocina")}else if(tipoCocina&&"Gas-elec-vitro-induc"==tipoCocina.innerText){crearTipoCocina("/arquivos/tipo-cocina-2.png","img-cocina-alt")}let crearTipoAntiadherente=rutaImg=>{let imgTipoAntiadherente=document.createElement("img"),tipoAntiadherenteContainer=document.createElement("div");tipoAntiadherenteContainer.classList.add("tipo-antiadherente-container"),tipoAntiadherente.parentElement.remove(),imgTipoAntiadherente.setAttribute("src",rutaImg),imgTipoAntiadherente.classList.add("img-antiadherente");let title=document.createElement("h5");title.classList.add("title__tipo-antiadherente"),title.innerText="Tipo de Antiadherente",tipoAntiadherenteContainer.appendChild(title),tipoAntiadherenteContainer.appendChild(imgTipoAntiadherente),tiposWrapper.appendChild(tipoAntiadherenteContainer)};if(tipoAntiadherente){let rutaImg="";switch(tipoAntiadherente.innerText){case"Pfluon Cookmark":crearTipoAntiadherente(rutaImg="/arquivos/logo-pfluon-cookmark.png");break;case"Pfluon Ceramical":crearTipoAntiadherente(rutaImg="/arquivos/logo-pfluon-ceramical.png");break;case"Quantum2":crearTipoAntiadherente(rutaImg="/arquivos/logo-quantum2.png");break;case"Xylan":crearTipoAntiadherente(rutaImg="/arquivos/logo-xylan.png");break;case"Dylon":crearTipoAntiadherente(rutaImg="/arquivos/logo-dylon.png");break;case"Pfluon Corrosino":crearTipoAntiadherente(rutaImg="/arquivos/logo-pfluon-corrosino.png");break;case"Pfluon":crearTipoAntiadherente(rutaImg="/arquivos/logo-pfluon.png");break;case"Skandia Xtreme":crearTipoAntiadherente(rutaImg="/arquivos/logo-skandia-xtreme.png")}}agregarProductoPrincipal(buyBtn)},500)}let categoryPage=document.getElementById("category-page");categoryPage&&setTimeout(()=>{let inicioLink=document.querySelector("#box-bread-brumb li a[title='cocinailko']"),categoriaLink=document.querySelector("#box-bread-brumb li a[title='Cocina Ilko']");inicioLink&&(inicioLink.innerText="Inicio"),categoriaLink&&(categoriaLink.innerText="Categoría"),document.querySelectorAll(".box-item .best-price").forEach(price=>{price.innerText=price.innerText.split(",").shift()});let productOldPrice=document.querySelectorAll(".box-item .old-price");productOldPrice.length>0&&productOldPrice.forEach(price=>{price.innerText=price.innerText.split(",").shift()});let saleLabel=document.querySelectorAll(".box-item .sale-label");saleLabel.length>0&&saleLabel.forEach(label=>{let discountLabel=label.innerText.split(",").shift();label.innerText=`-${discountLabel}%`});let vitBuyButton=document.querySelectorAll(".btn-add-buy-button-asynchronous");vitBuyButton.forEach(button=>{button.innerHTML='<i class="fas fa-cart-plus"></i> Agregar'}),vtexjs.checkout.getOrderForm().done(function(orderForm){for(let i=0;i<orderForm.items.length;i++){const element=orderForm.items[i];vitBuyButton.forEach(button=>{try{element.id==button.getAttribute("href").split("?")[1].split("&")[0].split("=")[1]&&(button.classList.add("disabled"),button.innerText="Agregado!")}catch(error){console.log(error.message)}})}}),totalProductos(),agregarProductoSecundario(vitBuyButton),$(document).ajaxStop(function(){document.querySelectorAll(".box-item .best-price").forEach(price=>{price.innerText=price.innerText.split(",").shift()});let productOldPrice=document.querySelectorAll(".box-item .old-price");productOldPrice.length>0&&productOldPrice.forEach(price=>{price.innerText=price.innerText.split(",").shift()});let vitBuyButton=document.querySelectorAll(".btn-add-buy-button-asynchronous");vitBuyButton.forEach(button=>{button.innerHTML='<i class="fas fa-cart-plus"></i> Agregar'}),vtexjs.checkout.getOrderForm().done(function(orderForm){for(let i=0;i<orderForm.items.length;i++){const element=orderForm.items[i];vitBuyButton.forEach(button=>{try{element.id==button.getAttribute("href").split("?")[1].split("&")[0].split("=")[1]&&(button.classList.add("disabled"),button.innerText="Agregado!")}catch(error){console.log(error.message)}})}});let saleLabel=document.querySelectorAll(".box-item .sale-label");saleLabel.length>0&&saleLabel.forEach(label=>{if(!label.innerText.includes("-")){let discountLabel=label.innerText.split(",").shift();label.innerText=`-${discountLabel}%`}})});const filtersH3=document.querySelectorAll(".search-single-navigator h3"),filtersH4=document.querySelectorAll(".search-single-navigator h4"),filtersH5=document.querySelectorAll(".search-single-navigator h5"),subfilters=document.querySelectorAll(".search-single-navigator ul li");let categoryFilters=[...filtersH4,...filtersH5];"/169"===window.location.pathname&&(categoryFilters=[...categoryFilters,...filtersH3],filtersH3.forEach(el=>{el.querySelector("span").remove()})),categoryFilters.forEach(filter=>{const expandBtn=document.createElement("i");expandBtn.className="fal fa-chevron-down",expandBtn.addEventListener("click",e=>{e.target.parentElement.classList.toggle("active")}),filter.appendChild(expandBtn)}),subfilters.forEach(subfilter=>{const checkbox=document.createElement("i");subfilter.classList.contains("filtro-ativo")?(checkbox.classList.add("fal","fa-check-square"),subfilter.prepend(checkbox)):(checkbox.classList.add("fal","fa-square"),subfilter.firstChild.prepend(checkbox))}),window.location.pathname.includes("virutex")?document.querySelector(".search-single-navigator .HideProducto").classList.add("active"):categoryFilters[0].classList.add("active");let filtrosToggler=document.getElementById("btn-filtros");filtrosToggler.addEventListener("click",e=>{e.preventDefault(),filtrosToggler.classList.toggle("active"),document.querySelector(".sidebar").classList.toggle("open")})},500);let busquedaVacia=document.getElementById("busca-vazia-page");if(busquedaVacia){let searchResult=new URL(window.location.href).searchParams.get("ft");document.getElementById("search-term").innerText=`'${searchResult}'`}if("/cart"==window.location.pathname&&setTimeout(()=>{document.querySelector(".iEMpNC").addEventListener("click",e=>{e.preventDefault(),window.location="/cocina-ilko"})},1e3),document.body.classList.contains("institucionales")){let currentURL=window.location.href.split("/").pop();document.querySelectorAll(".menu-institucionales>nav>a").forEach(link=>{link.getAttribute("data-title")==currentURL&&link.classList.add("active")});let menuToggler=document.querySelector(".nav-toggler");menuToggler.addEventListener("click",e=>{e.preventDefault(),menuToggler.classList.toggle("active"),menuToggler.nextElementSibling.classList.toggle("open")})}"/cocina-ilko/141"==window.location.pathname&&setTimeout(()=>{document.querySelector(".sidebar").remove(),document.getElementById("btn-filtros").remove(),document.getElementById("main-content").classList.remove("col-md-9")},500);let agregarProductoPrincipal=botonProductoPrincipal=>{botonProductoPrincipal.forEach(button=>{button.addEventListener("click",e=>{e.preventDefault();let param=button.getAttribute("href").split("?")[1].split("&"),item={id:param[0].split("=")[1],quantity:document.querySelector(".buy-button-box .qtd").value,seller:param[2].split("=")[1]};vtexjs.checkout.getOrderForm().then(function(orderForm){let cont=0;orderForm.items.forEach((el,index)=>{if(el.id===item.id){let updateItem={index:index,quantity:parseInt(el.quantity)+parseInt(item.quantity)};return vtexjs.checkout.updateItems([updateItem],null,!1).done(function(orderForm){crearMinicar(),miniCartToggler.classList.add("active")})}cont++}),cont===orderForm.items.length&&vtexjs.checkout.getOrderForm().then(orderForm=>vtexjs.checkout.addToCart([item],null,1)).done(function(orderForm){crearMinicar(),miniCartToggler.classList.add("active")})})})})},agregarProductoSecundario=botonVitrinaCatalogo=>{botonVitrinaCatalogo.forEach(button=>{button.addEventListener("click",e=>{e.preventDefault();let param=button.getAttribute("href").split("?")[1].split("&"),item={id:param[0].split("=")[1],quantity:1,seller:param[2].split("=")[1]};vtexjs.checkout.getOrderForm().then(function(orderForm){let cont=0;orderForm.items.forEach((el,index)=>{if(el.id===item.id){let updateItem={index:index,quantity:parseInt(el.quantity)+parseInt(item.quantity)};return vtexjs.checkout.updateItems([updateItem],null,!1).done(function(orderForm){crearMinicar(),miniCartToggler.classList.add("active")})}cont++}),cont===orderForm.items.length&&vtexjs.checkout.getOrderForm().then(orderForm=>vtexjs.checkout.addToCart([item],null,1)).done(function(orderForm){crearMinicar(),miniCartToggler.classList.add("active")})})})})};function totalProductos(){if(0==$("#totalProdQty").length){let pagerBottom=document.querySelector(".pager.bottom"),totalProducts=document.createElement("p");var dataResultado=$("span.resultado-busca-numero span.value").first().text();totalProducts.innerHTML='Total de productos: <span id="totalProdQty">'+dataResultado+"</span>",pagerBottom.insertBefore(totalProducts,pagerBottom.firstElementChild)}}function bienvenidaValidate(){var email=$("#modal-newsletter_email").val(),nombre=$("#modal-newsletter_name").val(),genero=$("input[name=modal-newsletter_genero]:checked","#modal-form-newsletter").val(),tipo=$("#modal-newsletter_tipo").val(),terminos=$("#modal-newsletter_terminos").is(":checked");if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)||!nombre||void 0===genero||0==tipo||!terminos)return alert("Verifique los datos ingresados"),!1;var urlSaveDadosUser="/api/dataentities/BV/search/?email="+email+"&_fields=id";$.ajax({type:"GET",url:urlSaveDadosUser,success:function(data){data.length?alert("El email ingresado ya fue registrado"):bienvenidaSave(),console.log(data)},error:function(data){console.log(data),$("div#nwError").removeClass("hide")}})}function bienvenidaSave(){var jsonSaveDadosUser={nombre:$("#modal-newsletter_name").val(),email:$("#modal-newsletter_email").val(),genero:$("input[name=modal-newsletter_genero]:checked","#modal-form-newsletter").val(),tipo:$("#modal-newsletter_tipo").val()};$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"},data:JSON.stringify(jsonSaveDadosUser),type:"PATCH",url:"/api/dataentities/BV/documents/",success:function(data){console.log(data),alert("Se ha registrado con exito"),$(".overlay").fadeOut()},error:function(data){console.log(data),alert("En este momento no podemo procesar su solicitud")}})}function closePopup(){$(".overlay").fadeOut()}function initShippingCountdown(){setInterval(()=>{const shippingDate=new Date(2021,2,1,0,0,0),{days:days,hours:hours,minutes:minutes,seconds:seconds}=convertMiliseconds(shippingDate-new Date);$(".timer .dias .numero").text(days),$(".timer .horas .numero").text(hours),$(".timer .minutos .numero").text(minutes),$(".timer .segundos .numero").text(seconds)},1e3)}function convertMiliseconds(miliseconds){let days,hours,minutes,seconds,total_hours,total_minutes,total_seconds;return total_seconds=parseInt(Math.floor(miliseconds/1e3)),total_minutes=parseInt(Math.floor(total_seconds/60)),total_hours=parseInt(Math.floor(total_minutes/60)),days=parseInt(Math.floor(total_hours/24)),seconds=parseInt(total_seconds%60),minutes=parseInt(total_minutes%60),{days:days,hours:hours=parseInt(total_hours%24),minutes:minutes,seconds:seconds}}window.onload=function(){$("#ContenidoPagina_Button1").click(function(){var num_track=document.getElementById("ContenidoPagina_txtSearch").value;num_track.length<9||num_track.length>12?(document.getElementById("alerta").style.visibility="visible",$("#ContenidoPagina_txtSearch").focus()):(document.getElementById("alerta").style.visibility="hidden",function(url){$.ajax({url:url,beforeSend:function(xhrObj){xhrObj.setRequestHeader("Ocp-Apim-Subscription-Key","67049be84b0d485683005108b7105f12")},type:"GET"}).done(function(data){JSON.parse(this.responseText);let formEnvio=document.querySelector("#form-envio");formEnvio.innerHTML+="<tr><td>Numero de certificado: ${datos.certificateNumber}</td><td>Numero de Rut: ${datos.rutNumber}</td><td>Nombre de la empresa: ${datos.businessName}</td><td>Número de la Tarjeta de Cliente Chilexpress (TCC): ${datos.customerCardNumber}</td><td>Numero de ordenes de transporte asociadas: ${datos.amountOfPieces}</td><td>Número de retiro asociado: ${datos.dropNumber}</td><td>Dirección de retiro: ${datos.pickupAddress}</td><td>Cantidad de envíos por tipo de producto y servicio: ${datos.data.detail}</td><td>Código del producto: ${datos.data.detail.product}</td><td>Código del servicio: ${datos.data.detail.service}</td><td>Cantidad de envíos asociados: ${datos.data.detail.amount}</td><td>Código de resultado: ${datos.statusCode}</td><td>Descripción del resultado: ${datos.statusDescription}</td><td>Descripción del error presentado en caso que aplique: ${datos.errors}</td></tr>"}).fail(function(){document.getElementById("codigo-incorrecto").style.visibility="visible"})}("https://testservices.wschilexpress.com/transport-orders/api/v1.0/transport-order-certificates/"+num_track))})},$(document).ready(function(){$.ajaxSetup({complete:function(){if(document.getElementById("category-page")&&0==$("#totalProdQty").length){let vitBuyButton=document.querySelectorAll(".btn-add-buy-button-asynchronous");vitBuyButton.forEach(button=>{button.innerHTML='<i class="fas fa-cart-plus"></i> Agregar'}),vtexjs.checkout.getOrderForm().done(function(orderForm){for(let i=0;i<orderForm.items.length;i++){const element=orderForm.items[i];vitBuyButton.forEach(button=>{try{element.id==button.getAttribute("href").split("?")[1].split("&")[0].split("=")[1]&&(button.classList.add("disabled"),button.innerText="Agregado!")}catch(error){console.log(error.message)}})}}),totalProductos(),agregarProductoSecundario(vitBuyButton)}}}),$("button.modal-close").on("click",function(){$(".overlay").fadeOut()}),$(".product-image .apresentacao .thumbs li").on("click",function(){document.querySelectorAll("#image-main").forEach(img=>{let oldSrc=img.getAttribute("src");img.setAttribute("src",oldSrc.replace("-292-292","-500-500")),img.setAttribute("width","500"),img.setAttribute("height","500")})})}),console.log("profile 4.0"),setTimeout(function(){$("input[name='birthDate']")&&$("input[name='birthDate']").prop("required",!0)},4e3),$(".CoverPop-close").click(function(){$("#CoverPop-cover").css("display","none")}),document.addEventListener("DOMContentLoaded",function(){"/_secure/account#/profile/edit"===window.location.pathname+window.location.hash&&estrictDate()}),window.addEventListener("hashchange",e=>{"#/profile/edit"===window.location.hash&&estrictDate()});const estrictDate=()=>{setTimeout(function(){const btnGhost=document.createElement("button");btnGhost.innerText="GUARDAR CAMBIOS",btnGhost.id="btnGhost",btnGhost.disabled=!0;const newEl=document.createElement("div");newEl.innerText="Este campo es obligatorio.",newEl.id="alert";const element=document.querySelector("form > div.vtex-profile-form__personal-fields > div.vtex-profile-form__field-wrapper.vtex-profile-form__birthDate.pb7 > label > div > input"),btnelement=document.querySelector("#account-content > div > div:nth-child(1) > div > div > div > div > section > main > div > article > main > form > button");element.placeholder="Obligatorio",""===element.value&&(element.insertAdjacentElement("afterend",newEl),btnelement.insertAdjacentElement("afterend",btnGhost),btnelement.style.display="none"),element.addEventListener("input",e=>{console.log(e.target.value),""!==e.target.value&&(btnelement.style.display="block",removeAlertError("alert"),removeAlertError("btnGhost")),(""===e.target.value||isvalidNumbers(e.target.value)||" "===e.target.value)&&(btnelement.style.display="none",element.insertAdjacentElement("afterend",newEl),btnelement.insertAdjacentElement("afterend",btnGhost))})},1500)},removeAlertError=id=>{document.getElementById(id)&&document.getElementById(id).parentNode.removeChild(document.getElementById(id))},isvalidNumbers=caracter=>{if(new RegExp("^[A-Z]+$","i").test(caracter))return!0},formatcar=()=>{setTimeout(function(){$("p.styles__BestPrice-rn3uzn-2.iUiFng, p.styles__Total-sc-1brnkyn-1.jkLiQF, p.styles__Value-k0hjaf-2.eAiEPl, div.styles__WrapperText-duxsen-2.iAZMMz > p:nth-child(2), p.styles__ListPrice-rn3uzn-1.jGajEA, .styles__BestPrice-ow9sol-11, .styles__ListPrice-ow9sol-10").each(function(i,el){let valor=$(this).text();valor=valor.split(",").shift(),$(this).text(valor)})},500)};$(window).on("orderFormUpdated.vtex",function(evt,orderForm){formatcar()});let formatNumber={separador:".",sepDecimal:",",formatear:function(num){for(var splitStr=(num+="").split("."),splitLeft=splitStr[0],splitRight=splitStr.length>1?this.sepDecimal+splitStr[1]:"",regx=/(\d+)(\d{3})/;regx.test(splitLeft);)splitLeft=splitLeft.replace(regx,"$1"+this.separador+"$2");return this.simbol+splitLeft+splitRight},new:function(num,simbol){return this.simbol=simbol||"",this.formatear(num)}};$(window).load(function(){var altura=$(".header-new").offset().top;$(window).on("scroll",function(){$(window).scrollTop()>altura?$(".header-new").addClass("menu-fixed"):$(".header-new").removeClass("menu-fixed")})}),$(document).ready(function(){setInterval(function(){let productBestPrice=document.querySelector(".skuBestPrice");null!=productBestPrice&&(productBestPrice.innerText=productBestPrice.innerText.split(",").shift());let productListPrice=document.querySelector(".skuListPrice");null!=productListPrice&&(productListPrice.innerText=productListPrice.innerText.split(",").shift())},1e3)});