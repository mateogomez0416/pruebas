(window.webpackJsonpvtex_search_result_3_122_0=window.webpackJsonpvtex_search_result_3_122_0||[]).push([[12],{11:function(e,t,n){"use strict";n.r(t),n.d(t,"MAP_CATEGORY_CHAR",(function(){return r})),n.d(t,"MAP_BRAND_CHAR",(function(){return a})),n.d(t,"MAP_QUERY_KEY",(function(){return o})),n.d(t,"FULLTEXT_QUERY_KEY",(function(){return u})),n.d(t,"SELLER_QUERY_KEY",(function(){return l})),n.d(t,"PRODUCT_CLUSTER_IDS",(function(){return i})),n.d(t,"MAP_VALUES_SEP",(function(){return c})),n.d(t,"PATH_SEPARATOR",(function(){return s})),n.d(t,"SPACE_REPLACER",(function(){return m})),n.d(t,"FILTER_TITLE_SEP",(function(){return d})),n.d(t,"SPEC_FILTER",(function(){return f})),n.d(t,"SPEC_FILTERS",(function(){return p})),n.d(t,"SET_GALLERY_LAYOUTS_TYPE",(function(){return E})),n.d(t,"SWITCH_GALLERY_LAYOUT_TYPE",(function(){return y})),n.d(t,"SET_FOCUS_GALLERY_LAYOUT_TYPE",(function(){return _})),n.d(t,"ASC",(function(){return S})),n.d(t,"DESC",(function(){return L}));var r="c",a="b",o="map",u="ft",l="seller",i="productClusterIds",c=",",s="/",m="-",d="_",f="specificationFilter",p="SpecificationFilters",E="SET_GALLERY_LAYOUTS",y="SWITCH_GALLERY_LAYOUT",_="SET_FOCUS_GALLERY_LAYOUT",S="ASC",L="DESC"},110:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),u=n.n(o),l=n(67),i=n.n(l),c=n(21),s=n.n(c),m=n(3),d=n.n(m),f=n(14),p=n.n(f),E=n(68),y=n.n(E),_=n(5),S=n(6),L=n.n(S),v=n(55),R=n(20),T=n(69),A=n.n(T),h=n(29),O=n.n(h),C=function(e){var t,n,o=e.GalleryItemComponent,u=e.item,l=e.displayMode,i=e.summary,c=e.position,s=e.listName,m=e.preferredSKU,d=O()().push,f=Object(S.useSearchPage)().searchQuery,p=Object(r.useMemo)((function(){return A.a.mapCatalogProductToProductSummary(u,m)}),[u,m]),E=Object(r.useCallback)((function(){var e,t;d({event:"productClick",product:p,query:null===(e=null==f?void 0:f.variables)||void 0===e?void 0:e.query,map:null===(t=null==f?void 0:f.variables)||void 0===t?void 0:t.map,position:c,list:s})}),[p,d,null===(t=null==f?void 0:f.variables)||void 0===t?void 0:t.map,null===(n=null==f?void 0:f.variables)||void 0===n?void 0:n.query,c,s]);return a.a.createElement(o,Object(R.a)({},i,{product:p,displayMode:l,actionOnClick:E,listName:s,position:c}))},P=Object(r.memo)(C),Y=["galleryItem"],b=function(e){var t=e.GalleryItemComponent,n=e.displayMode,r=e.itemsPerRow,o=e.lazyRender,l=e.products,i=e.summary,c=e.currentLayoutName,s=e.rowIndex,m=e.listName,f=e.preferredSKU,E=d()(Y),y={flexBasis:"".concat(100/r,"%"),maxWidth:"".concat(100/r,"%")},_=Object(v.a)({lazyRender:o,offset:900}),S=_.hasBeenViewed,L=_.dummyElement;return S?a.a.createElement(a.a.Fragment,null,l.map((function(e,o){var l=s*r+o+1;return a.a.createElement("div",{key:e.cacheId,style:y,className:u()(p()(E.galleryItem,[n,c]),"pa4")},a.a.createElement(P,{GalleryItemComponent:t,item:e,summary:i,displayMode:n,position:l,listName:m,preferredSKU:f}))}))):L},g=Object(r.memo)(b),U=n(27),I=n(80),w=n(11),j=n(53),G=n(54),M=["gallery"],N=i.a.ProductListProvider,x=L.a.useSearchPageState,F=L.a.useSearchPageStateDispatch;t.default=function(e){var t,n=e.layouts,o=e.lazyItemsRemaining,l=e.products,i=e.showingFacets,c=e.summary,m=e.preferredSKU,f=e.slots,E=(Object(r.useContext)(U.a)||{}).trackingId,S=d()(M),L=Object(_.useRuntime)().getSettings,v=x().selectedGalleryLayout,R=F(),T=Object(j.a)(),A=Object(G.a)(null!=T?T:[],{matchFt:!0}).trim(),h=E||A||"Search result";Object(r.useEffect)((function(){R({type:w.SET_GALLERY_LAYOUTS_TYPE,args:{galleryLayouts:n}})}),[n,R]);var O=Object(r.useMemo)((function(){var e;return v?e=n.find((function(e){return e.name===v})):console.error("No default gallery layout defined. Set it in search-result-layout by using the defaultGalleryLayout prop."),e||(e=n[0],R({type:w.SWITCH_GALLERY_LAYOUT_TYPE,args:{selectedGalleryLayout:n[0].name,focus:!1}})),e}),[v,n,R]),C=y()(O.itemsPerRow),P=Object(r.useMemo)((function(){for(var e=[],t=0;t*C<l.length;){var n=t*C,r=(t+1)*C;e.push(l.slice(n,r)),t++}return e}),[C,l]);if(!n||0===n.length)return null;if(!f[O.component])return console.error('Define a Slot with name "'.concat(O.component,'" for the layout "').concat(O.name,'".')),null;var Y=u()(p()(S.gallery,O.name),"flex flex-row flex-wrap items-stretch bn ph1 na4",i?"pl9-l":"justify-center"),b=null===(t=L("vtex.store"))||void 0===t?void 0:t.enableSearchRenderingOptimization;return a.a.createElement(N,{listName:h},a.a.createElement("div",{id:"gallery-layout-container",className:Y},P.map((function(e,t){return a.a.createElement(g,{key:"".concat(O.name,"-").concat(t),products:e,lazyRender:!!b&&t>=2,summary:c,displayMode:"normal",itemsPerRow:C,currentLayoutName:O.name,rowIndex:t,listName:h,preferredSKU:m,GalleryItemComponent:f[O.component]})})),"number"==typeof o&&o>0&&a.a.createElement("div",{style:{width:"100%",height:300*Math.ceil(o/C)},className:"flex justify-center pt10"},a.a.createElement(s.a,null))),a.a.createElement(I.a,null))}}}]);