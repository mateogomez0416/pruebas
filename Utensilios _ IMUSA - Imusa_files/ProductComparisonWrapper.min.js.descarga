(window.webpackJsonpvtex_product_comparison_0_18_0=window.webpackJsonpvtex_product_comparison_0_18_0||[]).push([["ProductComparisonWrapper"],{0:function(t,e){t.exports=React},1:function(t,e){t.exports=R},10:function(t,e){t.exports=ReactApollo},23:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.store-resources@0.x/QueryProduct"]},27:function(t,e,r){"use strict";r.r(e);var c=r(5),o=r(0),n=r.n(o),u=r(1),a=r(23),s=r.n(a),i=r(10),p=r(6),d=r(7);e.default=function(t){var e=t.children,r=Object(o.useState)([]),a=Object(c.a)(r,2),O=a[0],l=a[1],f=Object(i.useApolloClient)(),b=d.default.ComparisonProductProvider,_=(0,p.default.useProductComparisonState)(),j=Object(u.pathOr)([],["products"],_);return Object(o.useEffect)((function(){Promise.all(j.map((function(t){return f.query({query:s.a,variables:{identifier:{field:"id",value:t.productId}}})}))).then((function(t){var e=t.map((function(t){return Object(u.pathOr)({},["data","product"],t)}));l(e)}))}),[f,j]),n.a.createElement(b,{products:j.length>0?O:[]},e)}},36:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/ToastProvider"]},50:function(t,e,r){"use strict";r.r(e),function(t){var e=r(2);r.p=Object(e.getPublicPath)("vtex.product-comparison@0.18.0");var c=Object(e.register)((function(){return r(51)}),t,"vtex.product-comparison@0.18.0","vtex.product-comparison@0.x","ProductComparisonWrapper");c.renderHotReload,c.setupHMR}.call(this,r(11)(t))},51:function(t,e,r){"use strict";r.r(e);var c=r(0),o=r.n(c),n=r(36),u=r.n(n),a=r(6),s=r(27);e.default=function(t){var e=t.children,r=a.default.ProductComparisonProvider;return o.a.createElement(r,null,o.a.createElement(s.default,null,o.a.createElement(u.a,{positioning:"window"},e)))}},7:function(t,e,r){"use strict";r.r(e);var c=r(5),o=r(3),n=r(0),u=r.n(n),a=r(1),s=function(t,e){switch(e.type){case"ADD_ALL_PRODUCTS":var r=Object(a.pathOr)([],["args","products"],e);return Object.assign(Object.assign({},t),{products:Object(o.a)(r)});case"ADD_PRODUCT":var c=e.args.product,n=[].concat(Object(o.a)(t.products),[c]);return Object.assign(Object.assign({},t),{products:n});case"REMOVE_ALL_PRODUCTS":return Object.assign(Object.assign({},t),{products:[]});case"REMOVE_PRODUCT":var u=e.args.product,s=Object(a.reject)(Object(a.allPass)([Object(a.propEq)("productId",u.productId),Object(a.propEq)("skuId",u.skuId)]))(t.products);return localStorage.setItem("PRODUCTS_TO_COMPARE",JSON.stringify(s)),Object.assign(Object.assign({},t),{products:s});default:throw new Error("Unhandled action type on product-list-context")}},i={products:[]},p=Object(n.createContext)(i),d=Object(n.createContext)((function(t){console.error("error in dispatch ",t)})),O={products:[]};e.default={ComparisonProductProvider:function(t){var e=t.products,r=t.children,o=Object(n.useReducer)(s,O),a=Object(c.a)(o,2),i=a[0],l=a[1];return Object(n.useEffect)((function(){e&&e.length>0&&l({type:"ADD_ALL_PRODUCTS",args:{products:e}})}),[e]),u.a.createElement(p.Provider,{value:i},u.a.createElement(d.Provider,{value:l},r))},useComparisonProductState:function(){return Object(n.useContext)(p)},useComparisonProductDispatch:function(){return Object(n.useContext)(d)}}}},[[50,"common",0]]]);